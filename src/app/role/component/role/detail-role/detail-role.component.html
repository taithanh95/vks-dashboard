<c-spinner [show]="isLoading" [fullScreen]="true"></c-spinner>
<div class="modal-header">
  <h5 class="modal-title"><i class="fa fa-plus"></i> Thêm mới chức năng</h5>
  <button type="button" class="close" (click)="closeDialog()" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<form [formGroup]="formData" (ngSubmit)="onSubmit()">
  <div class="modal-body">
    <div class="form-group row">
      <label class="col-md-3 col-form-label" for="parentId">Chức năng cha </label>
      <div class="col-md-9">
        <select class="form-control border-success" id="parentId" name="parentId" value="parentId"
                formControlName="parentId">
          <option *ngFor="let opt of listParent" [value]="opt.id">{{opt.name}} - {{opt.description}}</option>
        </select>
        <control-messages [submited]="submited" [control]="formData.controls.parentId"></control-messages>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-md-3 col-form-label" for="name">Tên hiển thị <span
        class="font-weight-bold text-danger">(*)</span></label>
      <div class="col-md-9">
        <input type="text" id="name" class="form-control border-success"
               placeholder="Tên hiển thị" name="name" value="name" formControlName="name">
        <control-messages [submited]="submited" [control]="formData.controls.name"></control-messages>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-md-3 col-form-label" for="code">Mô tả </label>
      <div class="col-md-9">
        <input type="text" id="code" class="form-control border-success"
               placeholder="Mô tả" name="description" value="description" formControlName="description">
        <control-messages [submited]="submited" [control]="formData.controls.description"></control-messages>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-md-3 col-form-label" for="url">Đường dẫn <span
        class="font-weight-bold text-danger">(*)</span></label>
      <div class="col-md-9">
        <input type="url" id="url" class="form-control border-success"
               placeholder="Đường dẫn" name="url" value="url" formControlName="url">
        <control-messages [submited]="submited" [control]="formData.controls.url"></control-messages>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-md-3 col-form-label" for="icon">Icon <span
        class="font-weight-bold text-danger">(*)</span></label>
      <div class="col-md-9">
        <select type="icon" class="form-control border-success" formControlName="icon" id="icon">
          <option value="">Trống</option>
          <option value="fa fa-circle-thin">fa fa-circle-thin</option>
          <option value="icon-puzzle">icon-puzzle</option>
          <option value="icon-drop">icon-drop</option>
          <option value="icon-star">icon-star</option>
          <option value="icon-pencil">icon-pencil</option>
        </select>
        <control-messages [submited]="submited" [control]="formData.controls.icon"></control-messages>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-md-3 col-form-label" for="type">Loại chức năng <span
        class="font-weight-bold text-danger">(*)</span></label>
      <div class="col-md-9">
        <select class="form-control border-success" formControlName="type" id="type">
          <option value="1">Chức năng</option>
          <option value="2">Phương thức</option>
        </select>
        <control-messages [submited]="submited" [control]="formData.controls.type"></control-messages>
      </div>
    </div>
    <div class="form-group row" *ngIf="editData && editData.id">
      <label class="col-md-3 col-form-label" for="status">Trạng thái <span
        class="font-weight-bold text-danger">(*)</span></label>
      <div class="col-md-9">
        <select class="form-control border-success" formControlName="status" id="status">
          <option value="0">Không hoạt động</option>
          <option value="1">Hoạt động</option>
        </select>
        <control-messages [submited]="submited" [control]="formData.controls.status"></control-messages>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="closeDialog()"><i class="fa fa-times-circle-o"></i> Đóng
    </button>
    <c-button type="submit" className="btn btn-primary" iconClassName="fa fa-floppy-o" label="Lưu"
              [loading]="isLoading"></c-button>
  </div>
</form>
